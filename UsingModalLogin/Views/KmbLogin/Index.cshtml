
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_KmbLayout.cshtml";
}
<style>
    body {
        padding-top: 50px;
    }

    input[type=text],
    input[type=password] {
        width: 280px;
    }

    .form-horizontal .control-label {
        padding-top: 10px;
        text-align: left;
    }
</style>

<script>

    $(function () {

        $("#iswinauthentication").change(function () {

            if ($(this).is(":checked"))
            {
                $("#userid").removeAttr("required");
                $("#password").removeAttr("required");

                $("#userid").attr("disabled", "disabled");
                $("#password").attr("disabled", "disabled");
            }
            else
            {
                $("#userid").attr("required", "required");
                $("#password").attr("required", "required");

                $("#userid").removeAttr("disabled");
                $("#password").removeAttr("disabled");
            }

        });

    });

</script>

<h2>Configurations</h2>
<hr />
<div class="row">
    <div class="col-md-12">
        <h3>Test User Information</h3>
        <p>
            You can use this sample account. This account will be automatically to insert SQL database with EF CodeFirst if you use Entity Framework.<br />
            <i>
                If you should see this code which is into KmbContext file on Models folder.
            </i>
        </p>
        <p>
            <b>Username :</b> muratbaseren<br />
            <b>Password :</b> 123<br />
            <b>E-Mail   :</b> kadirmuratbaseren@gmail.com
        </p>
        <hr />

        <h3>Entity Framework &amp; Web.Config Configuration</h3>
        <p>
            You can install Entity Framework from nuget package manager for sample Index page.<br />
            <i>You should remove errors when EF installed</i><br /><br />
            <b class="alert alert-danger">You don't forget! For EF run, it required connection string in web.config file. You can add below line to connectionStrings section in web.config</b>
            <br /><br />
        </p>
        <p>
            <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>connectionStrings</span><span style='color:#a65700; '>></span>
            <span style='color:#696969; '>&lt;!--</span><span style='color:#696969; '> With Windows Authentication </span><span style='color:#696969; '>--></span>
            <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>add</span> 
            <span style='color:#274796; '>name</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>KmbContext</span><span style='color:#800000; '>"</span> 
            <span style='color:#274796; '>providerName</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>System.Data.SqlClient</span><span style='color:#800000; '>"</span> 
            <span style='color:#274796; '>connectionString</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Server=[Server Name];Database=KMBUsersTableTest;Integrated Security=true;</span><span style='color:#800000; '>"</span> <span style='color:#a65700; '>/></span>
  
<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>connectionStrings</span><span style='color:#a65700; '>></span>
</pre>
            <br />
            <b>   - OR -</b>
            <br /><br />
            <pre style='color:#000000;background:#ffffff;'><span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>connectionStrings</span><span style='color:#a65700; '>></span>
            <span style='color:#696969; '>&lt;!--</span><span style='color:#696969; '> With SQL Authentication </span><span style='color:#696969; '>--></span>
            <span style='color:#a65700; '>&lt;</span><span style='color:#5f5035; '>add</span> 
            <span style='color:#274796; '>name</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>KmbContext</span><span style='color:#800000; '>"</span> 
            <span style='color:#274796; '>providerName</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>System.Data.SqlClient</span><span style='color:#800000; '>"</span> 
            <span style='color:#274796; '>connectionString</span><span style='color:#808030; '>=</span><span style='color:#800000; '>"</span><span style='color:#0000e6; '>Server=[Server Name];Database=KMBUsersTableTest;User Id=[username];Password=[pass]</span><span style='color:#800000; '>"</span> <span style='color:#a65700; '>/></span>
  
<span style='color:#a65700; '>&lt;/</span><span style='color:#5f5035; '>connectionStrings</span><span style='color:#a65700; '>></span>
</pre>
        </p>
        <hr />

        <h3>Set ConnectionString in Web.Config</h3>
        <p>
            You can use below form and setting connectionstring in web.config automatically.
        </p>

        @using (Html.BeginForm())
            {
            <div class="form-horizontal">

                <div class="form-group">
                    <label class="control-label col-md-3">Server Name</label>
                    <div class="col-md-9">
                        <input type="text" name="servername" id="servername" class="form-control" placeholder="server name" required/>
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-3">Is Windows Authentication</label>
                    <div class="col-md-9">
                        <input type="checkbox" name="iswinauthentication" id="iswinauthentication" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-3">User Id</label>
                    <div class="col-md-9">
                        <input type="text" name="userid" id="userid" class="form-control" placeholder="user id" />
                    </div>
                </div>

                <div class="form-group">
                    <label class="control-label col-md-3">Password</label>
                    <div class="col-md-9">
                        <input type="password" name="password" id="password" class="form-control" placeholder="password" />
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-9 col-md-push-3">
                        <input type="submit" value="Update" class="btn btn-success" />
                        <br /><br />
                        @if (ViewBag.Result != null && string.IsNullOrEmpty(ViewBag.Result) == false)
                        {
                            <div class="alert alert-@ViewBag.ResultStyle col-md-5">
                                @ViewBag.Result
                            </div>
                        }
                    </div>
                </div>

            </div>
        }
    </div>
</div>